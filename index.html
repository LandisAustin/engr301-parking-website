<!DOCTYPE html>
<html>
<head>
    <title>Parking Garage Occupancy</title>
</head>

<body style="font-family: Arial; text-align: center; margin-top: 100px;">

    <h1>Parking Garage Occupancy</h1>

    <h2 id="count">Loading...</h2>

    <!-- Firebase SDK -->
    <script type="module">

        // Import Firebase tools
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        // Your web app's Firebase configuration
		const firebaseConfig = {
		  apiKey: "AIzaSyDZQsc7yVMAGUQcmkRPRTDj0RtNXRzzMxI",
		  authDomain: "parking-garage-sensor.firebaseapp.com",
		  databaseURL: "https://parking-garage-sensor-default-rtdb.firebaseio.com",
		  projectId: "parking-garage-sensor",
		  storageBucket: "parking-garage-sensor.firebasestorage.app",
		  messagingSenderId: "942036034143",
		  appId: "1:942036034143:web:60f671fb4049baf439f1ea"
		};

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        const rootRef = ref(database, "/");

        onValue(rootRef, (snapshot) => {
            const data = snapshot.val();
			
			const occupancy = data.occupancy;
			const capacity = data.capacity;
			const percent = ((occupancy / capacity) * 100).toFixed(0);

			document.getElementById("count").innerText = `${occupancy} / ${capacity} (${percent}%)`;
        });

    </script>

</body>

</html>
